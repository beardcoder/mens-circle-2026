/**
 * Animation Utilities (2025)
 * Using Motion.dev for scroll-triggered animations
 *
 * This file provides:
 * - Transition utilities for hover/focus states
 * - Continuous/looping keyframe animations
 * - Reduced motion support
 *
 * Scroll-triggered animations are handled by Motion.dev's inView function
 * @see https://motion.dev/docs/inview
 */

/* ============================================
   Transition Utilities
   ============================================ */
.transition {
  transition-timing-function: var(--ease-out);
  transition-duration: var(--duration-normal);
  transition-property:
    color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter,
    backdrop-filter;
}

.transition-fast {
  transition-duration: var(--duration-fast);
}

.transition-slow {
  transition-duration: var(--duration-slow);
}

.transition-none {
  transition: none;
}

.transition-colors {
  transition-timing-function: var(--ease-out);
  transition-duration: var(--duration-normal);
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
}

.transition-transform {
  transition-timing-function: var(--ease-out);
  transition-duration: var(--duration-normal);
  transition-property: transform;
}

.transition-opacity {
  transition-timing-function: var(--ease-out);
  transition-duration: var(--duration-normal);
  transition-property: opacity;
}

.transition-shadow {
  transition-timing-function: var(--ease-out);
  transition-duration: var(--duration-normal);
  transition-property: box-shadow;
}

/* ============================================
   Scroll-Triggered Animation Classes
   Initial states - Motion.dev handles the animation
   ============================================ */

/**
 * These classes mark elements for scroll-triggered animations.
 * Motion.dev's inView function detects these classes and applies
 * the appropriate animation when elements enter the viewport.
 *
 * Usage:
 *   <div class="fade-in">Fades in from bottom</div>
 *   <div class="fade-in-left fade-in-delay-2">Fades from left with delay</div>
 *   <div class="stagger-children">
 *     <div>Child 1</div>
 *     <div>Child 2</div>
 *   </div>
 */

/* Marker classes for Motion.dev - no CSS animation needed */
.fade-in,
.fade-in-up,
.fade-in-down,
.fade-in-left,
.fade-in-right,
.fade-in-scale {
  /* Initial state set by JavaScript for smooth loading */
  will-change: opacity, transform;
}

/* Delay classes - handled by Motion.dev */
.delay-1,
.delay-2,
.delay-3,
.delay-4,
.delay-5,
.fade-in-delay-1,
.fade-in-delay-2,
.fade-in-delay-3,
.fade-in-delay-4,
.fade-in-delay-5 {
  /* Delays are applied programmatically by Motion.dev */
}

/* Stagger container - children animate with staggered timing */
.stagger-children {
  /* Container marker for Motion.dev stagger effect */
}

.stagger-children > * {
  will-change: opacity, transform;
}

/* ============================================
   Continuous/Looping Keyframe Animations
   ============================================ */

/* Breathing / Pulsing animation
 * NOTE: Decorative circle breathing animations are now handled by Motion.dev
 * for smoother, more natural motion. See breathing-animation.ts
 * This CSS animation is kept as a fallback for no-JS environments.
 */
@keyframes breathe {
  0%,
  100% {
    opacity: 0.25;
    transform: scale(0.85);
  }

  50% {
    opacity: 0.4;
    transform: scale(1.3);
  }
}

.animate-breathe {
  animation: breathe 15s ease-in-out infinite;
}

/* Subtle pulse */
@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.5;
  }
}

.animate-pulse {
  animation: pulse 2s ease-in-out infinite;
}

/* Scroll indicator pulse */
@keyframes scroll-pulse {
  0%,
  100% {
    opacity: 1;
    transform: scaleY(1);
  }

  50% {
    opacity: 0.3;
    transform: scaleY(0.3);
  }
}

.animate-scroll-pulse {
  animation: scroll-pulse 2.5s ease-in-out infinite;
}

/* Spin */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* Bounce */
@keyframes bounce {
  0%,
  100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }

  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

.animate-bounce {
  animation: bounce 1s infinite;
}

/* Float */
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Fade in animation for programmatic use */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-down {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-left {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fade-in-right {
  from {
    opacity: 0;
    transform: translateX(30px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fade-in-scale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ============================================
   Hover Animations
   ============================================ */
.hover-lift {
  transition: transform var(--transition-fast);
}

.hover-lift:hover {
  transform: translateY(-4px);
}

.hover-scale {
  transition: transform var(--transition-fast);
}

.hover-scale:hover {
  transform: scale(1.05);
}

.hover-glow {
  transition: box-shadow var(--transition-medium);
}

.hover-glow:hover {
  box-shadow: 0 0 30px color-mix(in oklch, var(--accent-primary) 30%, transparent);
}

/* ============================================
   Interactive States
   ============================================ */
.active-scale {
  transition: transform var(--transition-fast);
}

.active-scale:active {
  transform: scale(0.98);
}

/* ============================================
   Performance Optimization
   Use content-visibility for off-screen content
   ============================================ */
.content-auto {
  contain-intrinsic-size: auto 500px;
  content-visibility: auto;
}

/* ============================================
   Reduced Motion
   Respects user preference for less motion
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .fade-in,
  .fade-in-up,
  .fade-in-down,
  .fade-in-left,
  .fade-in-right,
  .fade-in-scale,
  .fade-in-delay-1,
  .fade-in-delay-2,
  .fade-in-delay-3,
  .fade-in-delay-4,
  .fade-in-delay-5 {
    /* Motion.dev handles reduced motion, but ensure visibility */
    opacity: 1 !important;
    transform: none !important;
  }

  .stagger-children > * {
    opacity: 1 !important;
    transform: none !important;
  }

  .animate-breathe,
  .animate-pulse,
  .animate-scroll-pulse,
  .animate-spin,
  .animate-bounce,
  .animate-float {
    animation: none;
  }

  .hover-lift:hover,
  .hover-scale:hover {
    transform: none;
  }
}

/* ============================================
   No-JS Fallback
   Show content if JavaScript is disabled
   ============================================ */
.no-js .fade-in,
.no-js .fade-in-up,
.no-js .fade-in-down,
.no-js .fade-in-left,
.no-js .fade-in-right,
.no-js .fade-in-scale,
.no-js .stagger-children > * {
  opacity: 1;
  transform: none;
}
